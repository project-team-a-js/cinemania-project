{"version":3,"file":"styles-7RMCliPV.js","sources":["../../src/js/header.js","../../src/js/footer.js","../../src/js/modal.js","../../src/js/hero.js","../../src/js/scroll-up.js","../../src/js/my-movies.js","../../src/js/up-coming.js","../../src/js/weekly-trends.js","../../src/js/search-list.js"],"sourcesContent":["// Mobile Menu\r\nconst menuButton = document.querySelector(\".menu-button\");\r\nconst mobileMenu = document.querySelector(\".mobile-menu\");\r\n\r\nmenuButton.addEventListener(\"click\", myFunction);\r\n\r\nfunction myFunction() {\r\n  mobileMenu.classList.add(\"displayB\");\r\n}\r\n// Dark-Light Mode\r\nconst body = document.querySelector(\"body\"),\r\n  toggle = document.querySelector(\".toggle\");\r\n\r\nlet getMode = localStorage.getItem(\"mode\");\r\nif (getMode === \"light\") {\r\n  body.classList.add(\"light\");\r\n  toggle.classList.add(\"active\");\r\n}\r\n\r\ntoggle.addEventListener(\"click\", () => {\r\n  body.classList.toggle(\"light\");\r\n\r\n  if (body.classList.contains(\"light\")) {\r\n    return localStorage.setItem(\"mode\", \"light\");\r\n  } else {\r\n    return localStorage.setItem(\"mode\", \"dark\");\r\n  }\r\n});\r\n\r\ntoggle.addEventListener(\"click\", () => toggle.classList.toggle(\"active\"));\r\n\r\ndocument.addEventListener('mouseup', function(e) {\r\n    if (!mobileMenu.contains(e.target)) {\r\n        mobileMenu.classList.remove(\"displayB\");\r\n    }\r\n});","const modal = document.querySelector(\".team-modal\");\r\nconst footerLink = document.querySelector(\".footer-link\");\r\nconst footerCloseBtn = document.querySelector(\".team-modal .modal-close-btn\");\r\n\r\nconst teamContainer = document.querySelector(\".team-modal .team-container\");\r\nconst memberCard = document.querySelector(\".team-modal .member-card\");\r\n\r\nconst teamMembers = [\r\n  {\r\n    name: \"Abdullah Furkan Toy\",\r\n    role: \"FullStack Developer\",\r\n    image: \"\",\r\n    gitLink: \"https://github.com/okazaki55\",\r\n    linkedLink: \"https://www.linkedin.com/in/a-furkan-t/\",\r\n  },\r\n  {\r\n    name: \"Aykut Şahinbaş\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/aykut-sahinbas.jpeg\",\r\n    gitLink: \"https://github.com/ayktshnbs\",\r\n    linkedLink: \"\",\r\n  },\r\n  {\r\n    name: \"Burak Ezer\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/burak-ezer.jpeg\",\r\n    gitLink: \"https://github.com/burak-ezer\",\r\n    linkedLink: \"\",\r\n  },\r\n  {\r\n    name: \"Çağla Karabudak Akın\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/cagla-karabudak-akin.jpg\",\r\n    gitLink: \"https://github.com/caglaakin\",\r\n    linkedLink: \"https://www.linkedin.com/in/%C3%A7a%C4%9Fla-karabudak-ak%C4%B1n-b118b118a/\",\r\n  },\r\n  {\r\n    name: \"Emre Ayvaz\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/emre-ayvaz.jpeg\",\r\n    gitLink: \"https://github.com/Emreayvz\",\r\n    linkedLink: \"https://www.linkedin.com/in/emreayvz/\",\r\n  },\r\n  {\r\n    name: \"Erdem İzcikılınç\",\r\n    role: \"FullStack Developer\",\r\n    image: \"\",\r\n    gitLink: \"\",\r\n    linkedLink: \"\",\r\n  },\r\n  {\r\n    name: \"İlker Şelimen\",\r\n    role: \"FullStack Developer\",\r\n    image: \"\",\r\n    gitLink: \"https://github.com/ilkerthedev\",\r\n    linkedLink: \"https://www.linkedin.com/in/ilker-%C5%9Felimen-206338266/\",\r\n  },\r\n  {\r\n    name: \"Mehmet Öndüç\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/mehmet-onduc.jpeg\",\r\n    gitLink: \"https://github.com/Mehmetonduc\",\r\n    linkedLink: \"https://www.linkedin.com/in/muhammet-mehmet-%C3%B6nd%C3%BC%C3%A7-b07582210/\",\r\n  },\r\n  {\r\n    name: \"Özgür Korkmaz\",\r\n    role: \"FullStack Developer\",\r\n    image: \"\",\r\n    gitLink: \"\",\r\n    linkedLink: \"\",\r\n  },\r\n  {\r\n    name: \"Umay Ece Mantar\",\r\n    role: \"FullStack Developer\",\r\n    image: \"./assets/umay-ece-mantar.jpeg\",\r\n    gitLink: \"https://github.com/cicikusdev\",\r\n    linkedLink: \"https://www.linkedin.com/in/umayecemantar\",\r\n  },\r\n];\r\n\r\nconst userNoImage = \"./assets/no-user-image.jpeg\";\r\n\r\n// Tek ve düzgün fonksiyon\r\nfunction addTeamMember(team) {\r\n  // Önce içeriği temizle\r\n  memberCard.innerHTML = \"\";\r\n\r\n  team.forEach((member) => {\r\n    // Her üye için resim kontrolü yap\r\n    // Artık 'assets' klasörüne göre doğru yolu kullanıyor\r\n    const memberImage = member.image === \"\" ? userNoImage : member.image;\r\n\r\n    const teamMember = document.createElement(\"li\");\r\n    teamMember.classList.add(\"team-member\");\r\n    teamMember.innerHTML = `\r\n      <img class=\"member-img\" src=\"${memberImage}\" alt=\"${member.name}\"/>\r\n      <div class=\"member-info\">\r\n        <p class=\"member-p\">${member.name}</p>\r\n        <p class=\"member-p2\">${member.role}</p>\r\n        <div class=\"member-link-container\">\r\n          <a class=\"member-link\" href=\"${member.linkedLink || \"#\"}\" target=\"_blank\">\r\n            <svg class=\"link-svg\" width=\"30\" height=\"30\">\r\n              <use href=\"#creators-linkedin\"></use>\r\n            </svg>\r\n          </a>\r\n          <a class=\"member-link\" href=\"${member.gitLink || \"#\"}\" target=\"_blank\">\r\n            <svg class=\"link-svg\" width=\"30\" height=\"30\">\r\n              <use href=\"#creators-github\"></use>\r\n            </svg>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Sadece teamMember'ı memberCard'a ekle\r\n    memberCard.appendChild(teamMember);\r\n  });\r\n  \r\n  // Döngü bittikten sonra bir kez memberCard'ı teamContainer'a ekle\r\n  if (memberCard.children.length > 0) {\r\n    teamContainer.appendChild(memberCard);\r\n  }\r\n}\r\n\r\nfunction openModal() {\r\n  if (modal) {\r\n    modal.style.display = \"flex\";\r\n    addTeamMember(teamMembers);\r\n  }\r\n}\r\n\r\nfunction closeModal() {\r\n  if (modal) {\r\n    modal.style.display = \"none\";\r\n  }\r\n}\r\n\r\n// Event listener'lar\r\nif (footerLink) {\r\n  footerLink.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    openModal();\r\n  });\r\n}\r\n\r\nif (modal) {\r\n  modal.addEventListener(\"click\", (event) => {\r\n    if (event.target === modal) {\r\n      closeModal();\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", (event) => {\r\n  if (event.key === \"Escape\" && modal && modal.style.display === \"flex\") {\r\n    closeModal();\r\n  }\r\n});\r\n\r\nif (footerCloseBtn) {\r\n  footerCloseBtn.addEventListener(\"click\", closeModal);\r\n}","let hoverTimeout;\r\nlet isModalOpenedByClick = false;\r\nfunction isMovieIdInLibrary(movieId) {\r\n  try {\r\n    const library = JSON.parse(localStorage.getItem(\"myLibrary\")) || [];\r\n    return library.includes(movieId);\r\n  } catch (error) {\r\n    console.error(\"Error checking library:\", error);\r\n    return false;\r\n  }\r\n}\r\nexport function openMovieModal(movie) {\r\n  const modal = document.getElementById(\"movie-modal\");\r\n  const posterElement = document.getElementById(\"modal-poster\");\r\n  if (movie.poster_path) {\r\n    posterElement.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\r\n  } else {\r\n    posterElement.src = \"https://via.placeholder.com/300x450?text=No+Image\";\r\n  }\r\n  posterElement.alt = movie.title || movie.name || \"Film\";\r\n  const titleElement = document.getElementById(\"modal-title\");\r\n  titleElement.textContent = movie.title || movie.name || \"No Title\";\r\n  const rating = movie.vote_average ? movie.vote_average.toFixed(1) : \"0.0\";\r\n  const voteCount = movie.vote_count || 0;\r\n  document.getElementById(\"modal-rating\").textContent = rating;\r\n  document.getElementById(\"modal-vote-count\").textContent = voteCount;\r\n  const popularity = movie.popularity ? movie.popularity.toFixed(1) : \"0.0\";\r\n  document.getElementById(\"modal-popularity\").textContent = popularity;\r\n  let genresText = \"No genre information\";\r\n  if (movie.genres && Array.isArray(movie.genres)) {\r\n    genresText = movie.genres.map((g) => g.name).join(\", \");\r\n  } else if (movie.genre_ids && Array.isArray(movie.genre_ids)) {\r\n    const genreMap = {\r\n      28: \"Action\",\r\n      12: \"Adventure\",\r\n      16: \"Animation\",\r\n      35: \"Comedy\",\r\n      80: \"Crime\",\r\n      99: \"Documentary\",\r\n      18: \"Drama\",\r\n      10751: \"Family\",\r\n      14: \"Fantasy\",\r\n      36: \"History\",\r\n      27: \"Horror\",\r\n      10402: \"Music\",\r\n      9648: \"Mystery\",\r\n      10749: \"Romance\",\r\n      878: \"Science Fiction\",\r\n      10770: \"TV Movie\",\r\n      53: \"Thriller\",\r\n      10752: \"War\",\r\n      37: \"Western\",\r\n    };\r\n    genresText = movie.genre_ids\r\n      .slice(0, 3)\r\n      .map((id) => genreMap[id] || \"Unknown\")\r\n      .join(\", \");\r\n  }\r\n  document.getElementById(\"modal-genres\").textContent = genresText;\r\n  document.getElementById(\"modal-overview\").textContent =\r\n    movie.overview ||\r\n    \"No overview available. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.\";\r\n  const addToLibraryBtn = document.querySelector(\".add-to-library-btn\");\r\n  const isInLibrary = isMovieIdInLibrary(movie.id);\r\n  if (isInLibrary) {\r\n    addToLibraryBtn.textContent = \"Remove from my library\";\r\n  } else {\r\n    addToLibraryBtn.textContent = \"Add to my library\";\r\n  }\r\n  const newBtn = addToLibraryBtn.cloneNode(true);\r\n  addToLibraryBtn.replaceWith(newBtn);\r\n  newBtn.addEventListener(\"click\", () => {\r\n    if (isMovieIdInLibrary(movie.id)) {\r\n      removeFromLibrary(movie.id);\r\n      newBtn.textContent = \"Add to my library\";\r\n    } else {\r\n      addToLibrary(movie.id);\r\n      newBtn.textContent = \"Remove from my library\";\r\n    }\r\n  });\r\n  modal.classList.remove(\"hidden\");\r\n  modal.classList.add(\"show\");\r\n  modal.style.display = \"flex\";\r\n  document.body.style.overflow = \"hidden\";\r\n  isModalOpenedByClick = true;\r\n}\r\nfunction addToLibrary(movieId) {\r\n  try {\r\n    let library = JSON.parse(localStorage.getItem(\"myLibrary\")) || [];\r\n    if (!library.includes(movieId)) {\r\n      library.push(movieId);\r\n      localStorage.setItem(\"myLibrary\", JSON.stringify(library));\r\n    }\r\n    const btn = document.querySelector(\".add-to-library-btn\");\r\n    btn.textContent = \"Added to Library!\";\r\n    btn.style.background = \"var(--orange)\";\r\n    btn.style.color = \"white\";\r\n    setTimeout(() => {\r\n      btn.textContent = \"Remove from my library\";\r\n      btn.style.background = \"transparent\";\r\n      btn.style.color = \"var(--orange)\";\r\n    }, 100);\r\n    // Kütüphaneye ekleme olayını tetikle\r\n    document.dispatchEvent(new CustomEvent(\"libraryUpdated\"));\r\n  } catch (error) {\r\n    console.error(\"Error adding movie to library:\", error);\r\n    alert(\"Error adding movie to library. Please try again.\");\r\n  }\r\n}\r\nfunction removeFromLibrary(movieId) {\r\n  try {\r\n    let library = JSON.parse(localStorage.getItem(\"myLibrary\")) || [];\r\n    const newLibrary = library.filter((id) => id !== movieId);\r\n    localStorage.setItem(\"myLibrary\", JSON.stringify(newLibrary));\r\n    const btn = document.querySelector(\".add-to-library-btn\");\r\n    btn.textContent = \"Removed from Library!\";\r\n    btn.style.background = \"var(--orange)\";\r\n    btn.style.color = \"white\";\r\n    setTimeout(() => {\r\n      btn.textContent = \"Add to my library\";\r\n      btn.style.background = \"transparent\";\r\n      btn.style.color = \"var(--orange)\";\r\n    }, 100);\r\n    // Kütüphaneden çıkarma olayını tetikle\r\n    document.dispatchEvent(new CustomEvent(\"libraryUpdated\"));\r\n  } catch (error) {\r\n    console.error(\"Error removing movie from library:\", error);\r\n    alert(\"Error removing movie from library. Please try again.\");\r\n  }\r\n}\r\nexport function closeMovieModal() {\r\n  const modal = document.getElementById(\"movie-modal\");\r\n  modal.classList.add(\"hidden\");\r\n  modal.classList.remove(\"show\");\r\n  modal.style.display = \"none\";\r\n  document.body.style.overflow = \"auto\";\r\n  isModalOpenedByClick = false;\r\n}\r\nwindow.closeMovieModal = closeMovieModal;\r\nexport function showMovieModalOnHover(movie, element) {\r\n  if (isModalOpenedByClick) return;\r\n  clearTimeout(hoverTimeout);\r\n  hoverTimeout = setTimeout(() => {\r\n    if (!isModalOpenedByClick) {\r\n      openMovieModal(movie);\r\n      isModalOpenedByClick = false;\r\n    }\r\n  }, 800);\r\n}\r\nexport function hideMovieModalOnHover() {\r\n  if (isModalOpenedByClick) return;\r\n  clearTimeout(hoverTimeout);\r\n  hoverTimeout = setTimeout(() => {\r\n    if (!isModalOpenedByClick) {\r\n      closeMovieModal();\r\n    }\r\n  }, 500);\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const modal = document.getElementById(\"movie-modal\");\r\n  const closeBtn = document.querySelector(\".close-modal\");\r\n  if (closeBtn) {\r\n    closeBtn.onclick = (e) => {\r\n      e.stopPropagation();\r\n      closeMovieModal();\r\n    };\r\n  }\r\n  modal.onclick = (event) => {\r\n    if (event.target === modal) {\r\n      closeMovieModal();\r\n    }\r\n  };\r\n  const modalContent = modal.querySelector(\".modal-content\");\r\n  if (modalContent) {\r\n    modalContent.onclick = (e) => {\r\n      e.stopPropagation();\r\n    };\r\n  }\r\n  document.addEventListener(\"keydown\", (event) => {\r\n    if (event.key === \"Escape\" && !modal.classList.contains(\"hidden\")) {\r\n      closeMovieModal();\r\n    }\r\n  });\r\n  modal.addEventListener(\"mouseenter\", () => {\r\n    clearTimeout(hoverTimeout);\r\n  });\r\n  modal.addEventListener(\"mouseleave\", () => {\r\n    if (!isModalOpenedByClick) {\r\n      hideMovieModalOnHover();\r\n    }\r\n  });\r\n});\r\n","import { openMovieModal } from \"./modal.js\";\r\n\r\nconst API_KEY = \"bca6557ef64423ebe36f13a6f80e4fa5\";\r\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\r\n\r\nconst getMovie = async () => {\r\n  const url = `${BASE_URL}trending/all/day?api_key=${API_KEY}`;\r\n  const response = await fetch(url);\r\n  return response.json();\r\n};\r\n\r\nconst getTrailer = async (id) => {\r\n  const url = `${BASE_URL}movie/${id}/videos?api_key=${API_KEY}`;\r\n  const response = await fetch(url);\r\n  return response.json();\r\n};\r\n\r\nconst container = document.querySelector(\".content\");\r\nconst containerTrailer = document.querySelector(\".trailer\");\r\n\r\nconst createCard = ({ title, overview, name }) => {\r\n  const card = document.createElement(\"div\");\r\n  if (title !== undefined) {\r\n    card.innerHTML = `\r\n    <h1 class=\"title\">${title}</h1>\r\n    <p class=\"description\">\r\n      ${overview}\r\n    </p>\r\n    <button class=\"button\">Watch Trailer</button>\r\n    <button class=\"button2\">More Details</button>\r\n    `;\r\n  } else {\r\n    card.innerHTML = `\r\n    <h1 class=\"title\">${name}</h1>\r\n    <p class=\"description\">\r\n      ${overview}\r\n    </p>\r\n    <button class=\"button\">Watch Trailer</button>\r\n    <button class=\"button2\">More Details</button>\r\n    `;\r\n  }\r\n  return card;\r\n};\r\n\r\nconst createTrailer = ({ key }) => {\r\n  const card = document.createElement(\"div\");\r\n  card.innerHTML = `\r\n<dialog class=\"video-modal\">\r\n  <form method=\"dialog\">\r\n    <button class=\"video-modal-close\">X</button>\r\n  </form>\r\n  <iframe id=\"trailer-iframe\" src=\"https://www.youtube.com/embed/${key}?enablejsapi=1&autoplay=1\"\r\n</iframe>\r\n</dialog>\r\n    `;\r\n  return card;\r\n};\r\n\r\nconst loadMovie = async (index) => {\r\n  const { results } = await getMovie();\r\n  const cards = results.map(createCard);\r\n  container.replaceChildren(cards[index]);\r\n  document.querySelector(\r\n    \"header\"\r\n  ).style.background = `linear-gradient(to right,hsla(0, 0%, 7%, 1), hsla(0, 0%, 7%, 0)),url('https://image.tmdb.org/t/p/original/${results[index].backdrop_path}') no-repeat center center / cover`;\r\n  loadTrailer(results[index].id);\r\n  loadDetails(index);\r\n};\r\n\r\nconst loadTrailer = async (id) => {\r\n  const { results } = await getTrailer(id);\r\n  const openModalButton = document.querySelector(\".button\");\r\n\r\n  if (results.length > 0) {\r\n    const key = results[0].key;\r\n    let modal = document.querySelector(\".video-modal\");\r\n    let iframe = document.getElementById(\"trailer-iframe\");\r\n\r\n    // Eğer modal yoksa ilk kez oluştur\r\n    if (!modal) {\r\n      const trailerCard = createTrailer({ key });\r\n      containerTrailer.replaceChildren(trailerCard);\r\n      modal = document.querySelector(\".video-modal\");\r\n      iframe = document.getElementById(\"trailer-iframe\");\r\n    }\r\n\r\n    const newOpenModalButton = openModalButton.cloneNode(true);\r\n    openModalButton.replaceWith(newOpenModalButton);\r\n\r\n    newOpenModalButton.addEventListener(\"click\", function onOpen() {\r\n      iframe.src = `https://www.youtube.com/embed/${key}?enablejsapi=1&autoplay=1`;\r\n      modal.showModal();\r\n    });\r\n\r\n    modal.addEventListener(\"click\", (event) => {\r\n      if (event.target === modal) {\r\n        modal.close();\r\n      }\r\n    });\r\n\r\n    modal.addEventListener(\"close\", () => {\r\n      if (iframe) {\r\n        iframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\r\n        iframe.src = `https://www.youtube.com/embed/${key}?enablejsapi=1`;\r\n      }\r\n    });\r\n\r\n  } else {\r\n    const newOpenModalButton = openModalButton.cloneNode(true);\r\n    openModalButton.replaceWith(newOpenModalButton);\r\n\r\n    newOpenModalButton.addEventListener(\"click\", function onOpen() {\r\n      var myDialog = document.createElement(\"dialog\");\r\n      myDialog.classList.add(\"trailer-error\");\r\n      containerTrailer.replaceChildren(myDialog);\r\n      myDialog.innerHTML = `\r\n      <form method=\"dialog\">\r\n        <button class=\"video-modal-close\">X</button>\r\n      </form>\r\n      <p>OOPS... We are very sorry! But we couldn’t find the trailer.</p>\r\n      <img src=\"../img/IMG_9881 1.png\" alt=\"\">\r\n      `;\r\n      myDialog.showModal();\r\n      \r\n      myDialog.addEventListener(\"click\", (event) => {\r\n        if (event.target === myDialog) {\r\n          myDialog.close();\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst loadDetails = async (index) => {\r\n  const { results } = await getMovie();\r\n  const selectedMovie = results[index];\r\n\r\n  const openModalButton2 = document.querySelector(\".button2\");\r\n\r\n  openModalButton2.addEventListener(\"click\", function () {\r\n    openMovieModal(selectedMovie);\r\n  });\r\n};\r\n\r\nloadMovie(Math.floor(Math.random() * 19));","// Scroll to top functionality\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Scroll up button'ını oluştur\r\n  const scrollUpBtn = document.createElement(\"button\");\r\n  scrollUpBtn.id = \"scroll-up-btn\";\r\n  scrollUpBtn.className = \"scroll-up-btn\";\r\n  scrollUpBtn.innerHTML = `\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M7 14L12 9L17 14\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </svg>\r\n  `;\r\n  scrollUpBtn.setAttribute(\"aria-label\", \"Scroll to top\");\r\n  scrollUpBtn.title = \"Back to top\";\r\n\r\n  // Body'e ekle\r\n  document.body.appendChild(scrollUpBtn);\r\n\r\n  // Scroll olayını dinle\r\n  window.addEventListener(\"scroll\", function () {\r\n    // Sayfa yüksekliğini ve scroll pozisyonunu al\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    const windowHeight = window.innerHeight;\r\n    const documentHeight = document.documentElement.scrollHeight;\r\n\r\n    // Sayfanın %80'ine ulaştığında göster\r\n    const scrollThreshold = documentHeight - windowHeight * 1.8;\r\n\r\n    if (scrollTop > scrollThreshold) {\r\n      scrollUpBtn.classList.add(\"show\");\r\n    } else {\r\n      scrollUpBtn.classList.remove(\"show\");\r\n    }\r\n  });\r\n\r\n  // Tıklama olayı\r\n  scrollUpBtn.addEventListener(\"click\", function () {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  });\r\n});\r\n","import axios from \"axios\";\r\nimport { openMovieModal } from \"./modal.js\";\r\nconst API_KEY = \"bca6557ef64423ebe36f13a6f80e4fa5\";\r\nconst BASE_URL = \"https://api.themoviedb.org\";\r\nconst IMAGE_BASE_URL = \"https://image.tmdb.org/t/p/\";\r\nconst selectElement = document.querySelector(\".my-movies-select\");\r\nconst loadBtn = document.querySelector(\".load-btn\");\r\nconst movieList = document.querySelector(\".movie-list\");\r\nconst btnLink = document.querySelector(\".btn-link\");\r\nlet genresMap = new Map();\r\nlet allMovies = [];\r\nlet currentMovies = [];\r\n// Türleri getir\r\nasync function fetchGenres() {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/3/genre/movie/list?api_key=${API_KEY}&language=en-EN`\r\n    );\r\n    response.data.genres.forEach((genre) => {\r\n      genresMap.set(genre.id, genre.name);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching movie genres:\", error);\r\n  }\r\n}\r\n// Türleri isimlere dönüştür\r\nfunction getGenresNames(genreIds) {\r\n  return genreIds.map((id) => genresMap.get(id) || \"Unknown Genre\").join(\", \");\r\n}\r\n// Select Elementini doldur\r\nfunction populateGenreSelect() {\r\n  if (!selectElement) return;\r\n  selectElement.innerHTML = \"\";\r\n  const allGenresOption = document.createElement(\"option\");\r\n  allGenresOption.value = \"all\";\r\n  allGenresOption.textContent = \"All Genres\";\r\n  selectElement.appendChild(allGenresOption);\r\n  genresMap.forEach((name, id) => {\r\n    const option = document.createElement(\"option\");\r\n    option.value = id;\r\n    option.textContent = name;\r\n    selectElement.appendChild(option);\r\n  });\r\n}\r\n// Filmleri localStorage'dan alıp movie-list elementine ekleyen fonksiyon\r\nasync function renderMyMoviesFromLocalStorage() {\r\n  const storedData = localStorage.getItem(\"myLibrary\");\r\n  let movieIds = [];\r\n  if (storedData) {\r\n    try {\r\n      movieIds = JSON.parse(storedData);\r\n    } catch (error) {\r\n      console.error(\"Error parsing localStorage 'myLibrary' data:\", error);\r\n      movieIds = [];\r\n    }\r\n  }\r\n  // Bu kısmı kaldırdık, çünkü butonu updateLoadButtonState() içinde kontrol edeceğiz\r\n  // if (!Array.isArray(movieIds) || movieIds.length === 0) {\r\n  //   movieList.innerHTML =\r\n  //     \"<p>OOPS... <br>We are very sorry!<br>You don’t have any movies at your library.</p>\";\r\n  //   if (loadBtn) {\r\n  //     loadBtn.classList.add(\"hiddenBtn\", \"searchBtn\");\r\n  //     loadBtn.textContent = \"Search movie\";\r\n  //     btnLink.href = \"./catalog.html\";\r\n  //   }\r\n  //   return;\r\n  // }\r\n  movieList.innerHTML = \"\";\r\n  const moviePromises = movieIds.map((id) =>\r\n    axios\r\n      .get(`${BASE_URL}/3/movie/${id}?api_key=${API_KEY}`)\r\n      .then((response) => response.data)\r\n      .catch((error) => {\r\n        console.error(`Error fetching movie with ID ${id}:`, error);\r\n        return null;\r\n      })\r\n  );\r\n  allMovies = (await Promise.all(moviePromises)).filter(\r\n    (movie) => movie !== null\r\n  );\r\n\r\n  displayMovies(allMovies);\r\n  // Filmler yüklendikten sonra buton durumunu güncelle\r\n  updateLoadButtonState();\r\n}\r\n// Seçilen filmleri ekranda gösteren ana fonksiyon\r\nfunction displayMovies(moviesToDisplay) {\r\n  currentMovies = moviesToDisplay;\r\n\r\n  if (currentMovies.length === 0) {\r\n    movieList.innerHTML = \"<p>No movies found for the selected genre.</p>\";\r\n    return;\r\n  }\r\n\r\n  const gradientDefs = `\r\n      <svg style=\"height:0; width:0; position:absolute\" aria-hidden=\"true\" focusable=\"false\">\r\n        <defs>\r\n          <linearGradient id=\"starGradientFill\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n            <stop offset=\"0%\" stop-color=\"#F84119\" />\r\n            <stop offset=\"100%\" stop-color=\"rgba(248, 159, 25, 0.68)\" />\r\n          </linearGradient>\r\n          <linearGradient id=\"starGradientStroke\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n            <stop offset=\"0%\" stop-color=\"#F84119\" />\r\n            <stop offset=\"100%\" stop-color=\"rgba(248, 159, 25, 0.68)\" />\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n    `;\r\n  const moviesHtml = currentMovies\r\n    .map((movie) => {\r\n      const { poster_path, title, release_date, vote_average } = movie;\r\n      const year = release_date ? release_date.split(\"-\")[0] : \"N/A\";\r\n      const imgSrc = poster_path\r\n        ? `${IMAGE_BASE_URL}w500${poster_path}`\r\n        : \"https://via.placeholder.com/500x750?text=No+Image\";\r\n      const starsCount = Math.round((vote_average || 0) / 2);\r\n      const stars = Array(5)\r\n        .fill(0)\r\n        .map(\r\n          (_, i) => `\r\n          <svg class=\"star ${\r\n            i < starsCount ? \"filled\" : \"\"\r\n          }\" viewBox=\"0 0 24 24\" >\r\n            <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/>\r\n          </svg>`\r\n        )\r\n        .join(\"\");\r\n      return `\r\n      <li class=\"movie-card\">\r\n        <img src=\"${imgSrc}\" alt=\"${title}\" />\r\n        <div class=\"movie-info\">\r\n          <div class=\"movie-title\">${(title || \"\").toUpperCase()}</div>\r\n          <div class=\"movie-meta\">${year}</div>\r\n        </div>\r\n        <div class=\"rating-stars\">${stars}</div>\r\n      </li>\r\n    `;\r\n    })\r\n    .join(\"\");\r\n  movieList.innerHTML = gradientDefs + moviesHtml;\r\n  setupMovieCardClickEvents();\r\n}\r\nfunction setupMovieCardClickEvents() {\r\n  const movieCards = document.querySelectorAll(\".movie-card\");\r\n  movieCards.forEach((card, index) => {\r\n    card.addEventListener(\"click\", () => {\r\n      const movie = currentMovies[index];\r\n      if (movie) {\r\n        openMovieModal(movie);\r\n      }\r\n    });\r\n  });\r\n}\r\n// Load Button durumunu güncelleyen yeni fonksiyon\r\nfunction updateLoadButtonState() {\r\n  if (loadBtn && btnLink) {\r\n    if (allMovies.length === 0) {\r\n      loadBtn.classList.add(\"hiddenBtn\", \"searchBtn\");\r\n      loadBtn.textContent = \"Search movie\";\r\n      btnLink.href = \"./catalog.html\";\r\n      movieList.innerHTML =\r\n        \"<p class='noMovieInfo'>OOPS... <br>We are very sorry!<br>You don’t have any movies at your library.</p>\";\r\n    } else {\r\n      loadBtn.classList.remove(\"hiddenBtn\", \"searchBtn\");\r\n      loadBtn.textContent = \"Load more\";\r\n    }\r\n  }\r\n}\r\n// Select menüsüne change olay dinleyicisi ekle\r\nfunction setupGenreFilter() {\r\n  if (selectElement) {\r\n    selectElement.addEventListener(\"change\", (e) => {\r\n      const selectedGenreId = e.target.value;\r\n      if (selectedGenreId === \"all\") {\r\n        displayMovies(allMovies);\r\n      } else {\r\n        const filteredMovies = allMovies.filter((movie) =>\r\n          movie.genres.some((genre) => genre.id === parseInt(selectedGenreId))\r\n        );\r\n        displayMovies(filteredMovies);\r\n      }\r\n    });\r\n  }\r\n}\r\n// Sayfa yüklendiğinde çalışacak kısım\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  if (document.body.id === \"library-page\") {\r\n    document.addEventListener(\"libraryUpdated\", () => {\r\n      renderMyMoviesFromLocalStorage();\r\n    });\r\n    fetchGenres().then(() => {\r\n      populateGenreSelect();\r\n      renderMyMoviesFromLocalStorage();\r\n      setupGenreFilter();\r\n    });\r\n  }\r\n});\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"bca6557ef64423ebe36f13a6f80e4fa5\";\r\nconst BASE_URL = \"https://api.themoviedb.org\";\r\nconst IMAGE_BASE_URL = \"https://image.tmdb.org/t/p/\";\r\n\r\nconst upcomingMovie = document.querySelector(\".upcoming-movie\");\r\n\r\nlet genresMap = new Map(); //key: ID, value: genre name\r\nlet currentMovie = null; //resize için\r\n\r\n//Türleri getir\r\nasync function fetchGenres() {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/3/genre/movie/list?api_key=${API_KEY}&language=en-EN`);\r\n\r\n    response.data.genres.forEach((genre) => {\r\n      genresMap.set(genre.id, genre.name);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching movie genres:\", error);\r\n  }\r\n}\r\n\r\n//Türleri isimlere dönüştür\r\nfunction getGenresNames(genreIds) {\r\n  return genreIds.map((id) => genresMap.get(id) || \"Unknown Genre\").join(\", \");\r\n}\r\n\r\n//Tarih aralığını belirle\r\nfunction getMonthDateRange() {\r\n  const today = new Date();\r\n  const year = today.getFullYear();\r\n  const month = today.getMonth();\r\n\r\n  const firstDay = new Date(year, month, 1); //ayın ilk günü\r\n  const lastDay = new Date(year, month + 1, 0); //ayın son günü(bir sonraki ayın 0.günü)\r\n\r\n  const formatedDate = (date) => {\r\n    const yyyy = date.getFullYear();\r\n    const mm = String(date.getMonth() + 1).padStart(2, \"0\"); // Ayı iki basamaklı yap\r\n    const dd = String(date.getDate()).padStart(2, \"0\"); // Günü iki basamaklı yap\r\n\r\n    return `${yyyy}-${mm}-${dd}`;\r\n  };\r\n\r\n  return {\r\n    startDate: formatedDate(firstDay),\r\n    endDate: formatedDate(lastDay),\r\n  };\r\n}\r\n\r\n//Button kontrolü\r\nfunction myLibraryButtonUpdate(button, movieID) {\r\n  if (isMovieInLibrary(movieID)) {\r\n    button.textContent = \"Remove from My Library\";\r\n  } else {\r\n    button.textContent = \"Add to My Library\";\r\n  }\r\n}\r\n\r\n//Filmi görüntüleme\r\nfunction displayMovie(movie) {\r\n  if (!movie) { \r\n    const noMovie = document.createElement(`<div>\r\n        <p>OOPS...\r\n          We are very sorry!\r\n          But we couldn’t find any movie.</p>\r\n      </div>`);\r\n    upcomingMovie.innerHTML = noMovie;\r\n    return;\r\n  }\r\n\r\n  currentMovie = movie; //Görüntülenen filmi saklamak için\r\n\r\n  let imageUrl, srcset, sizes, imageClass;\r\n\r\n  const windowWidth = window.innerWidth;//Pencere boyutuna göre görseli almak için\r\n\r\n  if (windowWidth >= 1280 && movie.backdrop_path) {\r\n    // DESKTOP için backdrop_path\r\n    imageUrl = `${IMAGE_BASE_URL}w1280${movie.backdrop_path}`;\r\n    srcset = ` ${IMAGE_BASE_URL}w780${movie.backdrop_path} 780w,\r\n        ${IMAGE_BASE_URL}w1280${movie.backdrop_path} 1280w,\r\n        ${IMAGE_BASE_URL}original${movie.backdrop_path} 1920w\r\n        `;\r\n    sizes = `(min-width: 1280px) 805px`;\r\n    imageClass = \"movie-image-backdrop\";\r\n  } else if (windowWidth >= 768 && movie.backdrop_path) {\r\n    // TABLET için backdrop_path (768px ile 1279px arası)\r\n    imageUrl = `${IMAGE_BASE_URL}w780${movie.backdrop_path}`;\r\n    srcset = ` ${IMAGE_BASE_URL}w300${movie.backdrop_path} 300w,\r\n        ${IMAGE_BASE_URL}w780${movie.backdrop_path} 780w\r\n        `;\r\n    sizes = `(min-width: 768px) 704px,\r\n        (max-width: 1279px) 704px`;\r\n    imageClass = \"movie-image-backdrop\";\r\n  } else {\r\n    // MOBİL için poster_path (320px ile 767px arası)\r\n    imageUrl = movie.poster_path\r\n      ? `${IMAGE_BASE_URL}w342${movie.poster_path}`\r\n      : \"https://via.placeholder.com/320x460?text=Görsel+Yok\";\r\n    srcset = ` ${IMAGE_BASE_URL}w185${movie.poster_path} 185w,\r\n        ${IMAGE_BASE_URL}w342${movie.poster_path} 342w,\r\n        ${IMAGE_BASE_URL}w500${movie.poster_path} 500w\r\n        `;\r\n    sizes = `(max-width: 320px) 280px,\r\n        (max-width: 767px) 280px`;\r\n    imageClass = \"movie-image-poster\";\r\n  }\r\n\r\n  const releaseDate = movie.release_date\r\n    ? new Date(movie.release_date).toLocaleDateString()\r\n    : \"Unknown Release Date\";\r\n  const voteAverage = movie.vote_average\r\n    ? movie.vote_average.toFixed(1)\r\n    : \"-\";\r\n  const voteCount = movie.vote_count\r\n    ? movie.vote_count.toLocaleString()\r\n    : \"-\";\r\n  const genres = getGenresNames(movie.genre_ids);\r\n\r\n  const movieTitle = movie.title.toUpperCase();\r\n\r\n    upcomingMovie.innerHTML = `\r\n    <div class=\"upcoming-movie-container\">\r\n        <img src=\"${imageUrl}\" \r\n            srcset=\"${srcset.trim()}\" \r\n            sizes=\"${sizes.trim()}\" \r\n            class=\"movieImage ${imageClass}\"\r\n            alt=\"${movie.title} Poster Görseli\"/>\r\n        <div class=\"upcoming-info\">\r\n            <p class=\"upcoming-title\">${movieTitle}</p>\r\n            <div class=\"upcoming-info-details\">\r\n                <div class=\"info-tablet-details\">\r\n                    <div class=\"info-detail\">\r\n                        <p class=\"info-p\">Release Date</p>\r\n                        <span class=\"info-span info-color\">${releaseDate}</span>\r\n                    </div>\r\n                    <div class=\"info-detail\">\r\n                        <p class=\"info-p\">Vote / Votes</p>\r\n                        <div class=\"info-votes-container\">\r\n                          <span class=\"info-span info-votes\">${voteAverage}</span>\r\n                          <p> / </p>\r\n                          <span class=\"info-span info-votes\">${voteCount}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"info-tablet-details\">\r\n                    <div class=\"info-detail\">\r\n                        <p class=\"info-p\">Popularity</p>\r\n                        <span class=\"info-span\">${movie.popularity.toFixed(\r\n                          2\r\n                        )}</span>\r\n                    </div>\r\n                    <div class=\"info-detail\">\r\n                        <p class=\"info-p\">Genres</p>\r\n                        <span class=\"info-span\">${genres}</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            <div class=\"upcoming-about\">\r\n                <p class=\"info-p info-about\">ABOUT</p>\r\n                <p class=\"info-p\">${movie.overview}</p>\r\n            </div>\r\n            <button class=\"addLibrary\" data-id=\"${movie.id}\">Add to My Library</button>\r\n        </div>\r\n    </div>`;\r\n\r\n  const addLibraryButton = upcomingMovie.querySelector(\".addLibrary\");\r\n  myLibraryButtonUpdate(addLibraryButton, movie.id);\r\n\r\n  addLibraryButton.addEventListener(\"click\", () => {\r\n    const movieID = parseInt(addLibraryButton.getAttribute(\"data-id\"));\r\n    let myLibrary = getMyLibrary();\r\n\r\n    if (isMovieInLibrary(movieID)) {\r\n      myLibrary = myLibrary.filter((id) => id !== movieID);\r\n      localStorage.setItem(\"myLibrary\", JSON.stringify(myLibrary));\r\n    } else {\r\n      setMyLibrary(movieID);\r\n    }\r\n\r\n    myLibraryButtonUpdate(addLibraryButton, movieID);\r\n  });\r\n}\r\n\r\n\r\n\r\n//O ayın filmlerinden rastgele görüntüleme\r\nasync function randomUpcomingMovie() {\r\n  await fetchGenres();\r\n\r\n  const { startDate, endDate } = getMonthDateRange();\r\n\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/3/discover/movie`,\r\n      {\r\n        params: {\r\n          api_key: API_KEY,\r\n          \"primary_release_date.gte\": startDate,\r\n          \"primary_release_date.lte\": endDate,\r\n          sort_by: \"popularity.desc\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const movies = response.data.results;\r\n\r\n    if (movies && movies.length > 0) {\r\n      const randomIndex = Math.floor(Math.random() * movies.length);\r\n      const randomMovie = movies[randomIndex];\r\n      displayMovie(randomMovie);\r\n    } else {\r\n      upcomingMovie.innerHTML =\r\n        \"<p>No upcoming movies found for this month.</p>\";\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching upcoming movies:\", error);\r\n  }\r\n}\r\n\r\n//LocalStorage veri ekleme\r\nfunction setMyLibrary(movieID) {\r\n  let myLibrary = getMyLibrary();\r\n  myLibrary = myLibrary ? myLibrary : [];\r\n\r\n  if (!myLibrary.includes(movieID)) {\r\n    myLibrary.push(movieID);\r\n    localStorage.setItem(\"myLibrary\", JSON.stringify(myLibrary));\r\n  }\r\n}\r\n\r\n//LocalStorage veriler al\r\nfunction getMyLibrary() {\r\n  const library = localStorage.getItem(\"myLibrary\");\r\n  return library ? JSON.parse(library) : [];\r\n}\r\n\r\n/*function removeFromLibrary(movieID) {\r\n  let myLibrary = getMyLibrary();\r\n  myLibrary = myLibrary.filter((id) => id !== movieID);\r\n  localStorage.setItem(\"myLibrary\", JSON.stringify(myLibrary));\r\n}*/\r\n\r\n//LocalStorageda filmin varlığını kontrol etme\r\nfunction isMovieInLibrary(movieID) {\r\n  const myLibrary = getMyLibrary();\r\n  return myLibrary.includes(movieID);\r\n}\r\n\r\n\r\n//Pencere boyutuna göre görseli güncelleme\r\nfunction debounce(func, delay) {\r\n  let timeout;\r\n  return function (...args) {\r\n    const context = this;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func.apply(context, args), delay);\r\n  };\r\n}\r\n\r\nconst handleResize = debounce(() => {\r\n  if (currentMovie) {\r\n    displayMovie(currentMovie); // Mevcut filmi tekrar göster\r\n  } else {\r\n      upcomingMovieContainer.innerHTML = \"\";\r\n    }\r\n}, 250);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", randomUpcomingMovie);\r\nwindow.addEventListener(\"resize\", handleResize);","import { openMovieModal, closeMovieModal } from \"./modal.js\";\r\nconst options = {\r\n  method: \"GET\",\r\n  headers: {\r\n    accept: \"application/json\",\r\n    Authorization:\r\n      \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZDA5M2Y5MzcwZWVhYjYyZGRhZDEyMTViYTMzYzdkYyIsIm5iZiI6MTc0Mzc5MjUzNi41MTMsInN1YiI6IjY3ZjAyOTk4ZjVhODBhYTU0NTk5NTM5MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kD8CV4_F8L2GVoP85qrIIvPuEascfTURrC1KNOeDj4Q\",\r\n  },\r\n};\r\n\r\nlet genreMap = {}; // Dinamik olarak tür isimlerini tutacağız\r\n\r\n// Genre listesini çek\r\nfunction fetchGenres() {\r\n  return fetch(\r\n    \"https://api.themoviedb.org/3/genre/movie/list?language=en-US\",\r\n    options\r\n  )\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      data.genres.forEach((genre) => {\r\n        genreMap[genre.id] = genre.name;\r\n      });\r\n    });\r\n}\r\n\r\n// ID'leri isimlere çevir\r\nfunction getGenreNames(genreIds) {\r\n  return genreIds\r\n    .map((id) => genreMap[id])\r\n    .filter(Boolean)\r\n    .slice(0, 2);\r\n}\r\n\r\n// Ana veri yükleme\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const theme = localStorage.getItem(\"theme\");\r\n  const cardContainer = document.getElementById(\"weekly-cards\");\r\n  const loader = document.getElementById(\"loader-weekly\");\r\n\r\n  // Önce türleri çek, sonra filmleri\r\n  fetchGenres().then(() => {\r\n    fetch(\r\n      \"https://api.themoviedb.org/3/trending/all/day?language=en-US\",\r\n      options\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const movies = data.results.slice(0, 3);\r\n        cardContainer.innerHTML = \"\";\r\n        loader.style.display = \"none\";\r\n\r\n        movies.forEach((movie) => {\r\n          const imageUrl = movie.poster_path\r\n            ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\r\n            : \"https://via.placeholder.com/500x750?text=No+Image\";\r\n\r\n          const title = movie.title || movie.name || \"Untitled\";\r\n          const genres = getGenreNames(movie.genre_ids).join(\", \");\r\n          const releaseYear = (\r\n            movie.release_date ||\r\n            movie.first_air_date ||\r\n            \"Unknown\"\r\n          ).split(\"-\")[0];\r\n\r\n          const rating = Math.round((movie.vote_average || 0) * 10) / 10;\r\n\r\n          const maxStars = 5;\r\n          const fullStars = Math.floor(rating / 2);\r\n          const halfStar = rating % 2 >= 1 ? 1 : 0;\r\n          const emptyStars = maxStars - fullStars - halfStar;\r\n\r\n          const stars = [\r\n            ...Array(fullStars).fill(\r\n              '<svg class=\"star-weekly full\"><use xlink:href=\"#icon-star\"></use></svg>'\r\n            ),\r\n            ...Array(halfStar).fill(\r\n              '<svg class=\"star-weekly half\"><use xlink:href=\"#icon-star-half\"></use></svg>'\r\n            ),\r\n            ...Array(emptyStars).fill(\r\n              '<svg class=\"star-weekly empty\"><use xlink:href=\"#icon-star-outline\"></use></svg>'\r\n            ),\r\n          ].join(\"\");\r\n\r\n          const card = document.createElement(\"div\");\r\n          card.className = \"card-weekly\";\r\n          card.style.backgroundImage = `url(${imageUrl})`;\r\n          card.style.backgroundSize = \"cover\";\r\n          card.style.backgroundPosition = \"center\";\r\n          card.style.display = \"flex\";\r\n          card.style.objectFit = \"contain\";\r\n          card.style.alignItems = \"flex-end\";\r\n          card.style.borderRadius = \"10px\";\r\n          card.style.position = \"relative\";\r\n          card.style.overflow = \"hidden\";\r\n          card.style.boxShadow =\r\n            \" linear-gradient(180deg, rgba(0, 0, 0, 0) 63.48%, rgba(0, 0, 0, 0.9) 92.16%)\";\r\n\r\n          card.innerHTML = `\r\n            <div class=\"card-weekly-content\">\r\n            <div class=\"card-info\">\r\n              <h3>${title}</h3>\r\n              <p>${genres} | ${releaseYear}</p>\r\n              </div>\r\n              <span class=\"star-weekly\">${stars}</span>\r\n            </div>\r\n            \r\n          `;\r\n\r\n          cardContainer.appendChild(card);\r\n\r\n          card.addEventListener(\"click\", () => {\r\n            openMovieModal(movie);\r\n          });\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error fetching data:\", err);\r\n        cardContainer.innerHTML = \"<p>Error loading movies.</p>\";\r\n        loader.style.display = \"none\";\r\n      });\r\n  });\r\n});\r\n","import { openMovieModal } from \"./modal.js\";\r\n\r\nconst API_KEY = \"bca6557ef64423ebe36f13a6f80e4fa5\";\r\n\r\n// Ana uygulama fonksiyonu\r\nfunction initMovieApp() {\r\n  // Elementleri güvenli şekilde seç\r\n  const searchInput = document.getElementById(\"search-input\");\r\n  const clearBtn = document.getElementById(\"clear-btn\");\r\n  const movieList = document.getElementById(\"movie-list\");\r\n  const searchForm = document.getElementById(\"search-form\");\r\n  const pagination = document.getElementById(\"pagination\");\r\n  const yearSelect = document.getElementById(\"year-select\");\r\n\r\n  // Elementlerin varlığını kontrol et\r\n  if (\r\n    !searchInput ||\r\n    !clearBtn ||\r\n    !movieList ||\r\n    !searchForm ||\r\n    !pagination ||\r\n    !yearSelect\r\n  ) {\r\n    console.error(\r\n      \"Gerekli HTML elementleri bulunamadı! Sayfanızın doğru yüklendiğinden emin olun.\"\r\n    );\r\n    return;\r\n  }\r\n\r\n  let totalPages = 24;\r\n  let currentPage = 1;\r\n  let currentMovies = []; // Global olarak movies'i saklayacağız\r\n\r\n  // Çarpı butonu göster/gizle\r\n  searchInput.addEventListener(\"input\", () => {\r\n    clearBtn.style.display = searchInput.value ? \"inline\" : \"none\";\r\n  });\r\n\r\n  // Çarpı butonu temizleme\r\n  clearBtn.addEventListener(\"click\", () => {\r\n    searchInput.value = \"\";\r\n    clearBtn.style.display = \"none\";\r\n    currentPage = 1;\r\n    fetchAndRenderMovies();\r\n  });\r\n\r\n  // Yıl seçimi değişince sayfa 1 yap ve listeyi yenile\r\n  yearSelect.addEventListener(\"change\", () => {\r\n    currentPage = 1;\r\n    fetchAndRenderMovies();\r\n  });\r\n\r\n  // API URL'si kurucu fonksiyon\r\n  function buildApiUrl(query, page, year) {\r\n    if (query) {\r\n      // Arama API'si\r\n      const url = new URL(\"https://api.themoviedb.org/3/search/movie\");\r\n      url.searchParams.append(\"api_key\", API_KEY);\r\n      url.searchParams.append(\"query\", query);\r\n      url.searchParams.append(\"page\", page);\r\n      if (year) {\r\n        url.searchParams.append(\"primary_release_year\", year);\r\n      }\r\n      return url.toString();\r\n    } else {\r\n      // Trend API'si\r\n      const url = new URL(\"https://api.themoviedb.org/3/discover/movie\");\r\n      url.searchParams.append(\"api_key\", API_KEY);\r\n      url.searchParams.append(\"sort_by\", \"popularity.desc\");\r\n      url.searchParams.append(\"page\", page);\r\n      if (year) {\r\n        url.searchParams.append(\"primary_release_year\", year);\r\n      }\r\n      return url.toString();\r\n    }\r\n  }\r\n\r\n  // Film verisini çek ve render et\r\n  async function fetchAndRenderMovies() {\r\n    const query = searchInput.value.trim();\r\n    const year = yearSelect.value;\r\n\r\n    try {\r\n      const url = buildApiUrl(query, currentPage, year);\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (!data.results || data.results.length === 0) {\r\n        movieList.innerHTML = `<p style=\"grid-column: 1/-1; text-align: center;\">Sonuç bulunamadı.</p>`;\r\n        totalPages = 1;\r\n        renderPagination();\r\n        return;\r\n      }\r\n\r\n      totalPages = data.total_pages > 24 ? 24 : data.total_pages;\r\n      renderMovies(data.results);\r\n      renderPagination();\r\n    } catch (err) {\r\n      console.error(\"Film verisi alınamadı:\", err);\r\n      movieList.innerHTML = `<p style=\"grid-column: 1/-1; text-align: center;\">Film verisi alınırken hata oluştu.</p>`;\r\n      totalPages = 1;\r\n      renderPagination();\r\n    }\r\n  }\r\n\r\n  // Arama formu gönderildiğinde\r\n  searchForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    currentPage = 1;\r\n    fetchAndRenderMovies();\r\n  });\r\n\r\n  function renderMovies(movies) {\r\n    currentMovies = movies; // Movies'i global olarak sakla\r\n\r\n    const gradientDefs = `\r\n      <svg style=\"height:0; width:0; position:absolute\" aria-hidden=\"true\" focusable=\"false\">\r\n        <defs>\r\n          <linearGradient id=\"starGradientFill\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n            <stop offset=\"0%\" stop-color=\"#F84119\" />\r\n            <stop offset=\"100%\" stop-color=\"rgba(248, 159, 25, 0.68)\" />\r\n          </linearGradient>\r\n          <linearGradient id=\"starGradientStroke\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n            <stop offset=\"0%\" stop-color=\"#F84119\" />\r\n            <stop offset=\"100%\" stop-color=\"rgba(248, 159, 25, 0.68)\" />\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n    `;\r\n\r\n    movieList.innerHTML =\r\n      gradientDefs +\r\n      movies\r\n        .map((movie) => {\r\n          const { poster_path, title, release_date, vote_average } = movie;\r\n          const year = release_date ? release_date.split(\"-\")[0] : \"N/A\";\r\n          const imgSrc = poster_path\r\n            ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n            : \"https://via.placeholder.com/500x750?text=No+Image\";\r\n\r\n          const starsCount = Math.round((vote_average || 0) / 2);\r\n\r\n          const stars = Array(5)\r\n            .fill(0)\r\n            .map(\r\n              (_, i) => `\r\n              <svg class=\"star ${\r\n                i < starsCount ? \"filled\" : \"\"\r\n              }\" viewBox=\"0 0 24 24\" >\r\n                <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/>\r\n              </svg>`\r\n            )\r\n            .join(\"\");\r\n\r\n          return `\r\n            <div class=\"movie-card\" data-movie-id=\"${movie.id}\">\r\n              <img src=\"${imgSrc}\" alt=\"${title}\" />\r\n              <div class=\"movie-info\">\r\n                <div class=\"movie-title\">${title.toUpperCase()}</div>\r\n                <div class=\"movie-meta\">${year}</div>\r\n              </div>\r\n              <div class=\"rating-stars\">${stars}</div>\r\n            </div>\r\n          `;\r\n        })\r\n        .join(\"\");\r\n\r\n    // Film kartlarına click eventi ekle\r\n    setupMovieCardClickEvents();\r\n  }\r\n\r\n  // Film kartlarına click eventi ekleyen fonksiyon\r\n  function setupMovieCardClickEvents() {\r\n    const movieCards = document.querySelectorAll(\".movie-card\");\r\n    movieCards.forEach((card, index) => {\r\n      card.addEventListener(\"click\", () => {\r\n        // currentMovies array'inden ilgili movie'yi al\r\n        const movie = currentMovies[index];\r\n        if (movie) {\r\n          openMovieModal(movie);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  function renderPagination() {\r\n    pagination.innerHTML = \"\";\r\n\r\n    const maxVisiblePages = 3;\r\n\r\n    const prevBtn = document.createElement(\"button\");\r\n    prevBtn.textContent = \"<\";\r\n    prevBtn.classList.add(\"arrow-btn\");\r\n    prevBtn.disabled = currentPage === 1;\r\n    prevBtn.onclick = () => {\r\n      if (currentPage > 1) {\r\n        currentPage--;\r\n        fetchAndRenderMovies();\r\n      }\r\n    };\r\n    pagination.appendChild(prevBtn);\r\n\r\n    // Sayfa aralığı ayarı\r\n    let startPage = currentPage;\r\n    let endPage = startPage + maxVisiblePages - 1;\r\n\r\n    if (endPage > totalPages) endPage = totalPages;\r\n\r\n    for (let i = startPage; i <= endPage; i++) {\r\n      const pageBtn = document.createElement(\"button\");\r\n      pageBtn.textContent = i.toString().padStart(2, \"0\");\r\n      pageBtn.classList.add(\"page-btn\");\r\n      if (i === currentPage) pageBtn.classList.add(\"active\");\r\n      pageBtn.onclick = () => {\r\n        currentPage = i;\r\n        fetchAndRenderMovies();\r\n      };\r\n      pagination.appendChild(pageBtn);\r\n    }\r\n\r\n    if (endPage < totalPages) {\r\n      const ellipsis = document.createElement(\"span\");\r\n      ellipsis.textContent = \"...\";\r\n      ellipsis.classList.add(\"ellipsis\");\r\n      pagination.appendChild(ellipsis);\r\n\r\n      const lastPageBtn = document.createElement(\"button\");\r\n      lastPageBtn.textContent = totalPages.toString().padStart(2, \"0\");\r\n      lastPageBtn.classList.add(\"page-btn\");\r\n      lastPageBtn.onclick = () => {\r\n        currentPage = totalPages;\r\n        fetchAndRenderMovies();\r\n      };\r\n      pagination.appendChild(lastPageBtn);\r\n    }\r\n\r\n    const nextBtn = document.createElement(\"button\");\r\n    nextBtn.textContent = \">\";\r\n    nextBtn.classList.add(\"arrow-btn\");\r\n    nextBtn.disabled = currentPage === totalPages;\r\n    nextBtn.onclick = () => {\r\n      if (currentPage < totalPages) {\r\n        currentPage++;\r\n        fetchAndRenderMovies();\r\n      }\r\n    };\r\n    pagination.appendChild(nextBtn);\r\n  }\r\n\r\n  // Başlangıçta listeyi getir\r\n  fetchAndRenderMovies();\r\n  renderPagination();\r\n}\r\n\r\n// Sayfa yüklendiğinde uygulamayı başlat\r\ndocument.addEventListener(\"DOMContentLoaded\", initMovieApp);"],"names":["menuButton","mobileMenu","myFunction","body","toggle","getMode","modal","footerLink","footerCloseBtn","teamContainer","memberCard","teamMembers","userNoImage","addTeamMember","team","member","memberImage","teamMember","openModal","closeModal","event","hoverTimeout","isModalOpenedByClick","isMovieIdInLibrary","movieId","error","openMovieModal","movie","posterElement","titleElement","rating","voteCount","popularity","genresText","genreMap","id","addToLibraryBtn","newBtn","removeFromLibrary","addToLibrary","library","btn","newLibrary","closeMovieModal","hideMovieModalOnHover","closeBtn","e","modalContent","API_KEY","BASE_URL","getMovie","url","getTrailer","container","containerTrailer","createCard","title","overview","name","card","createTrailer","key","loadMovie","index","results","cards","loadTrailer","loadDetails","openModalButton","iframe","trailerCard","newOpenModalButton","myDialog","selectedMovie","scrollUpBtn","scrollTop","windowHeight","scrollThreshold","IMAGE_BASE_URL","selectElement","loadBtn","movieList","btnLink","genresMap","allMovies","currentMovies","fetchGenres","axios","genre","populateGenreSelect","allGenresOption","option","renderMyMoviesFromLocalStorage","storedData","movieIds","moviePromises","response","displayMovies","updateLoadButtonState","moviesToDisplay","gradientDefs","moviesHtml","poster_path","release_date","vote_average","year","imgSrc","starsCount","stars","_","i","setupMovieCardClickEvents","setupGenreFilter","selectedGenreId","filteredMovies","upcomingMovie","currentMovie","getGenresNames","genreIds","getMonthDateRange","today","month","firstDay","lastDay","formatedDate","date","yyyy","mm","dd","myLibraryButtonUpdate","button","movieID","isMovieInLibrary","displayMovie","noMovie","imageUrl","srcset","sizes","imageClass","windowWidth","releaseDate","voteAverage","genres","movieTitle","addLibraryButton","myLibrary","getMyLibrary","setMyLibrary","randomUpcomingMovie","startDate","endDate","movies","randomIndex","randomMovie","debounce","func","delay","timeout","args","context","handleResize","options","res","data","getGenreNames","cardContainer","loader","releaseYear","maxStars","fullStars","halfStar","emptyStars","err","initMovieApp","searchInput","clearBtn","searchForm","pagination","yearSelect","totalPages","currentPage","fetchAndRenderMovies","buildApiUrl","query","page","renderPagination","renderMovies","maxVisiblePages","prevBtn","startPage","endPage","pageBtn","ellipsis","lastPageBtn","nextBtn"],"mappings":"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"}